<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sudoku Solver</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        textarea {
            width: 400px;
            height: 200px;
            font-family: monospace;
            font-size: 16px;
        }
        button {
            margin: 10px 0;
            padding: 10px 20px;
            font-size: 16px;
        }
        pre {
            font-family: monospace;
            background-color: #f4f4f4;
            padding: 10px;
        }
    </style>
</head>
<body>
    <h1>Sudoku Solver</h1>
    <p>Voer een Sudoku in het onderstaande formaat in:</p>
    <pre>+-----+-----+-----+
|. . .|. . .|. . .|
|. . .|. . .|. . .|
|. . .|. . .|. . .|
+-----+-----+-----+
|. . .|. . .|. . .|
|. . .|. . .|. . .|
|. . .|. . .|. . .|
+-----+-----+-----+
|. . .|. . .|. . .|
|. . .|. . .|. . .|
|. . .|. . .|. . .|
+-----+-----+-----+</pre>
    <textarea id="sudokuInput"></textarea>
    <br>
    <button onclick="solveSudoku()">Los Sudoku op</button>
    <button id="copyButton" style="display: none;" onclick="copyToClipboard()">Kopieer naar klembord</button>
    <h2>Oplossing:</h2>
    <pre id="solutionOutput"></pre>

    <script>
        function parseSudoku(input) {
            const rows = input.split("\n").filter(line => line.includes('|'));
            if (rows.length !== 9) return null;

            const grid = [];
            for (const row of rows) {
                const cells = row.replace(/[|+]/g, '').trim().split(/\s+/);
                if (cells.length !== 9) return null;
                grid.push(cells.map(c => (c === '.' ? 0 : parseInt(c))));
            }
            return grid;
        }

        function isValid(grid, row, col, num) {
            for (let x = 0; x < 9; x++) {
                if (grid[row][x] === num || grid[x][col] === num || 
                    grid[3 * Math.floor(row / 3) + Math.floor(x / 3)][3 * Math.floor(col / 3) + (x % 3)] === num) {
                    return false;
                }
            }
            return true;
        }

        function solve(grid) {
            for (let row = 0; row < 9; row++) {
                for (let col = 0; col < 9; col++) {
                    if (grid[row][col] === 0) {
                        for (let num = 1; num <= 9; num++) {
                            if (isValid(grid, row, col, num)) {
                                grid[row][col] = num;
                                if (solve(grid)) return true;
                                grid[row][col] = 0;
                            }
                        }
                        return false;
                    }
                }
            }
            return true;
        }

        function formatSudoku(grid) {
            const lines = [];
            for (let i = 0; i < 9; i++) {
                if (i % 3 === 0) lines.push("+-----+-----+-----+");
                lines.push(`|${grid[i].slice(0, 3).join(' ')}|${grid[i].slice(3, 6).join(' ')}|${grid[i].slice(6, 9).join(' ')}|`);
            }
            lines.push("+-----+-----+-----+");
            return lines.join("\n");
        }

        function solveSudoku() {
            const input = document.getElementById('sudokuInput').value;
            const grid = parseSudoku(input);

            if (!grid) {
                document.getElementById('solutionOutput').textContent = "Ongeldig Sudoku-formaat!";
                document.getElementById('copyButton').style.display = "none";
                return;
            }

            if (solve(grid)) {
                const solution = formatSudoku(grid);
                document.getElementById('solutionOutput').textContent = solution;
                document.getElementById('copyButton').style.display = "inline-block";
            } else {
                document.getElementById('solutionOutput').textContent = "De Sudoku is niet oplosbaar!";
                document.getElementById('copyButton').style.display = "none";
            }
        }

        function copyToClipboard() {
            const solution = document.getElementById('solutionOutput').textContent;
            navigator.clipboard.writeText(solution).then(() => {
                alert("Oplossing gekopieerd naar klembord!");
            }).catch(err => {
                alert("Fout bij het kopiÃ«ren naar klembord: " + err);
            });
        }
    </script>
</body>
</html>
